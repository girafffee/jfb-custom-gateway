(()=>{"use strict";var e="custom",t=wp.compose.compose,n=wp.i18n.__,o=wp.data,a=o.withSelect,r=o.withDispatch,c=wp.components,i=c.TextControl,l=c.ToggleControl,s=c.SelectControl,u=c.withNotices,p=wp.element.useEffect,m=JetFBActions.renderGateway,w=JetFBHooks,f=w.withSelectGateways,y=w.withDispatchGateways;const b=t(a(f),r(y),u)((function(t){var o=t.setGatewayRequest,a=t.gatewaySpecific,r=t.setGatewaySpecific,c=t.gatewayScenario,u=t.setGatewayScenario,w=t.getSpecificOrGlobal,f=t.additionalSourceGateway,y=t.noticeOperations,b=t.noticeUI,g=c.id,d=void 0===g?"PAY_NOW":g;return p((function(){o({id:d})}),[d]),p((function(){o({id:d})}),[]),wp.element.createElement(React.Fragment,null,b,wp.element.createElement(l,{key:"use_global",label:n("Use Global Settings","jfb-custom-gateway"),checked:a.use_global,onChange:function(e){return r({use_global:e})}}),wp.element.createElement(i,{label:n("Public Key","jfb-custom-gateway"),value:w("public"),onChange:function(e){return r({public:e})},disabled:a.use_global}),wp.element.createElement(i,{label:n("Secret Key","jfb-custom-gateway"),value:w("secret"),onChange:function(e){return r({secret:e})},disabled:a.use_global}),wp.element.createElement(s,{labelPosition:"side",label:n("Gateway Action","jfb-custom-gateway"),value:d,onChange:function(e){u({id:e})},options:f.scenarios}),m(e,{noticeOperations:y},d))}));function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=wp.compose.compose,j=wp.data,O=j.withSelect,G=j.withDispatch,_=wp.i18n.__,E=wp.components,P=E.TextControl,C=E.SelectControl,F=E.BaseControl,k=JetFBHooks,A=k.withSelectFormFields,B=k.withSelectGateways,D=k.withDispatchGateways,N=JetFBComponents.GatewayFetchButton;const T=v(O((function(){return h(h({},A([],"--").apply(void 0,arguments)),B.apply(void 0,arguments))})),G((function(){return h({},D.apply(void 0,arguments))})))((function(e){var t=e.gatewayGeneral,n=e.gatewaySpecific,o=e.setGateway,a=e.setGatewaySpecific,r=e.formFields,c=e.getSpecificOrGlobal,i=e.loadingGateway,l=e.scenarioSource,s=e.noticeOperations;return e.scenarioLabel,wp.element.createElement(React.Fragment,null,wp.element.createElement(F,{label:_("Request Button","jfb-custom-gateway")},wp.element.createElement("div",{className:"jet-user-fields-map__list"},!i.success&&!i.loading&&wp.element.createElement("span",{className:"description-controls"},_("Click on the button to further manage the payment settings","jfb-custom-gateway")),wp.element.createElement(N,{initialLabel:_("Sync Access Token","jfb-custom-gateway"),label:_("Access Token updated","jfb-custom-gateway"),apiArgs:h(h({},l.fetch),{},{data:{public:c("public"),secret:c("secret")}}),onFail:("error",function(e){s.removeNotice(t.gateway),s.createNotice({status:"error",content:e.message,id:t.gateway})})}))),i.success&&wp.element.createElement(React.Fragment,null,wp.element.createElement(P,{label:_("Currency Code","jfb-custom-gateway"),value:n.currency,onChange:function(e){return a({currency:e})}}),wp.element.createElement(C,{label:_("Price/amount field","jfb-custom-gateway"),key:"form_fields_price_field",value:t.price_field,labelPosition:"side",onChange:function(e){o({price_field:e})},options:r})))}));var J=JetFBActions.registerGateway;J(e,b),J(e,T,"PAY_NOW")})();